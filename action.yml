---
# Thycotic Secret Server integration gh action
name: 'Thycotic SS integration'
description: 'Secret management using Thycotic SS API'
inputs:
  url:
    description: "The url of the secret server"
    required: true
  username:
    description: "Username for authenticating to the secret server"
    required: true
  password:
    description: "Password for authenticating to the secret server"
    required: true
  get_secrets:
    description: "A new-line-separated list of secrets in one of the formats"
    required: false
    default: ""
  delimiter:
    description: "delimiter to use when parsing get_secrets"
    required: false
    default: ":"
  update_secret_id:
    description: "secret id to update"
    required: false
    default: ""
  update_secret_field:
    description: "the field of the secret to update"
    required: false
    default: ""
  update_secret_value:
    description: "value to set the field to"
    required: false
    default: ""
runs:
  using: 'docker'
  image: 'Dockerfile'
  args:
    - ${{ inputs.url }}
    - ${{ inputs.username }}
    - ${{ inputs.password }}
    - ${{ inputs.get_secrets }}
    - ${{ inputs.update_secret_id }}
    - ${{ inputs.update_secret_field }}
    - ${{ inputs.update_secret_value }}
    - ${{ inputs.delimiter }}
